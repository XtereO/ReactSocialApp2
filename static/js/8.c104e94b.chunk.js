(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{297:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(87);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(c=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);c=!0);}catch(o){r=!0,s=o}finally{try{c||null==a.return||a.return()}finally{if(r)throw s}}return n}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},317:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(297),s=n(0),i=n.n(s),a=n(17),o=n(96),l=n(15),u=function(e){return Object(c.jsx)("div",{style:{height:"20%"},className:"mt-3",children:Object(c.jsxs)("div",{className:"row bg-light p-2",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)(l.b,{to:"Main/".concat(e.userId),children:Object(c.jsx)("img",{src:e.photo,className:"w-100 rounded"})})}),Object(c.jsxs)("div",{className:"col-8 my-3",children:[Object(c.jsx)("h3",{children:Object(c.jsx)(l.b,{to:"Main/".concat(e.userId),className:"Link",children:e.userName})}),Object(c.jsx)("div",{className:"text-dark mt-4",children:e.message})]})]})})},j=function(e){var t=e.messages.map((function(e){return Object(c.jsx)(u,{photo:e.photo,userName:e.userName,userId:e.userId,message:e.message},e.userName+e.message)}));return Object(c.jsx)("div",{children:t})},b=n(303),d=function(e){var t=Object(a.c)(),n=Object(a.d)((function(e){return e.chat.isInit}));return Object(c.jsx)(b.a,{enableReinitialize:!0,initialValues:{text:""},onSubmit:function(e,n){var c=n.resetForm;e.text&&(t(Object(o.d)(e.text)),c())},children:function(e){var t=e.values,r=e.handleSubmit,s=e.handleChange;return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:r,children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",{className:"w-100 form-control".concat(n?"":" is-invalid"),onChange:s,name:"text",value:t.text})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{disabled:!n,className:"w-100 btn btn-success btnInMessage"})})]})})}})},h=i.a.memo((function(){var e=Object(a.c)(),t=Object(a.d)((function(e){return e.chat.messages}));Object(s.useEffect)((function(){return e(Object(o.a)()),function(){e(Object(o.b)())}}),[]);var n=Object(s.useState)(!0),i=Object(r.a)(n,2),l=i[0],u=i[1],b=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e;l&&(null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),Object(c.jsx)("div",{style:{height:"700px"},children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:{overflowX:"hidden",overflowY:"scroll",height:550},onScroll:function(e){var t=e.currentTarget,n=Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight);u(n<300)},children:[Object(c.jsx)(j,{messages:t}),Object(c.jsx)("div",{ref:b})]}),Object(c.jsx)("div",{className:"mt-4 w-100",style:{maxHeight:100,overflow:"hidden"},children:Object(c.jsx)(d,{})})]})})}));t.default=h}}]);
//# sourceMappingURL=8.c104e94b.chunk.js.map